{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';// You can style this later\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[todos,setTodos]=useState([]);const[newTodoTitle,setNewTodoTitle]=useState('');const[newTodoDescription,setNewTodoDescription]=useState('');const API_URL='/api/todos';// **IMPORTANT: Change this for deployment**\nuseEffect(()=>{fetchTodos();},[]);const fetchTodos=async()=>{try{const response=await axios.get(API_URL);setTodos(response.data);}catch(error){console.error('Error fetching todos:',error);}};const addTodo=async e=>{e.preventDefault();if(!newTodoTitle.trim())return;const newTodo={title:newTodoTitle,description:newTodoDescription,completed:false};try{await axios.post(API_URL,newTodo);setNewTodoTitle('');setNewTodoDescription('');fetchTodos();// Refresh the list\n}catch(error){console.error('Error adding todo:',error);}};const toggleComplete=async(id,completed)=>{try{await axios.put(\"\".concat(API_URL,\"/\").concat(id),{completed:!completed});fetchTodos();// Refresh the list\n}catch(error){console.error('Error toggling todo:',error);}};const deleteTodo=async id=>{try{await axios.delete(\"\".concat(API_URL,\"/\").concat(id));fetchTodos();// Refresh the list\n}catch(error){console.error('Error deleting todo:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Simple To-Do App\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addTodo,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Todo Title\",value:newTodoTitle,onChange:e=>setNewTodoTitle(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Todo Description (optional)\",value:newTodoDescription,onChange:e=>setNewTodoDescription(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Todo\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"todo-list\",children:todos.map(todo=>/*#__PURE__*/_jsxs(\"li\",{className:todo.completed?'completed':'',children:[/*#__PURE__*/_jsxs(\"span\",{onClick:()=>toggleComplete(todo.id,todo.completed),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"strong\",{children:todo.title}),todo.description&&\": \".concat(todo.description)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTodo(todo.id),children:\"Delete\"})]},todo.id))})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","App","todos","setTodos","newTodoTitle","setNewTodoTitle","newTodoDescription","setNewTodoDescription","API_URL","fetchTodos","response","get","data","error","console","addTodo","e","preventDefault","trim","newTodo","title","description","completed","post","toggleComplete","id","put","concat","deleteTodo","delete","className","children","onSubmit","type","placeholder","value","onChange","target","map","todo","onClick","style","cursor"],"sources":["/home/sumit-linux/Devops-hands-on-projects/todo-app/todo-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css'; // You can style this later\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [newTodoTitle, setNewTodoTitle] = useState('');\n  const [newTodoDescription, setNewTodoDescription] = useState('');\n  const API_URL = '/api/todos'; // **IMPORTANT: Change this for deployment**\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  const fetchTodos = async () => {\n    try {\n      const response = await axios.get(API_URL);\n      setTodos(response.data);\n    } catch (error) {\n      console.error('Error fetching todos:', error);\n    }\n  };\n\n  const addTodo = async (e) => {\n    e.preventDefault();\n    if (!newTodoTitle.trim()) return;\n\n    const newTodo = {\n      title: newTodoTitle,\n      description: newTodoDescription,\n      completed: false,\n    };\n\n    try {\n      await axios.post(API_URL, newTodo);\n      setNewTodoTitle('');\n      setNewTodoDescription('');\n      fetchTodos(); // Refresh the list\n    } catch (error) {\n      console.error('Error adding todo:', error);\n    }\n  };\n\n  const toggleComplete = async (id, completed) => {\n    try {\n      await axios.put(`${API_URL}/${id}`, { completed: !completed });\n      fetchTodos(); // Refresh the list\n    } catch (error) {\n      console.error('Error toggling todo:', error);\n    }\n  };\n\n  const deleteTodo = async (id) => {\n    try {\n      await axios.delete(`${API_URL}/${id}`);\n      fetchTodos(); // Refresh the list\n    } catch (error) {\n      console.error('Error deleting todo:', error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Simple To-Do App</h1>\n\n      <form onSubmit={addTodo}>\n        <input\n          type=\"text\"\n          placeholder=\"Todo Title\"\n          value={newTodoTitle}\n          onChange={(e) => setNewTodoTitle(e.target.value)}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Todo Description (optional)\"\n          value={newTodoDescription}\n          onChange={(e) => setNewTodoDescription(e.target.value)}\n        />\n        <button type=\"submit\">Add Todo</button>\n      </form>\n\n      <ul className=\"todo-list\">\n        {todos.map((todo) => (\n          <li key={todo.id} className={todo.completed ? 'completed' : ''}>\n            <span\n              onClick={() => toggleComplete(todo.id, todo.completed)}\n              style={{ cursor: 'pointer' }}\n            >\n              <strong>{todo.title}</strong>\n              {todo.description && `: ${todo.description}`}\n            </span>\n            <button onClick={() => deleteTodo(todo.id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}